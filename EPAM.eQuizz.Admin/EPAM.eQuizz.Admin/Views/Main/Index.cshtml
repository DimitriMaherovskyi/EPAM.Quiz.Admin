@{ 
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div ng-app="QuizApp" ng-controller="TableController">
    <md-toolbar md-tall layout="row">
        <div class="md-toolbar-tools">
            <md-button class="md-hue-1 md-button md-primary md-raised md-ink-ripple" style="text-decoration:solid; font-size:20px" href="">
                Students
            </md-button>
            <md-button class="md-hue-1 md-button md-raised md-primary md-ink-ripple" style="text-decoration:solid; font-size:20px" href="">
                Quizzes
            </md-button>
            <span flex class="flex"></span>
            <md-button class="md-hue-1 md-button md-raised md-primary md-ink-ripple" style="text-decoration:solid; font-size:20px" href="">
                Full Name
            </md-button>
        </div>
    </md-toolbar>
    <md-content layout-padding layout-wrap>
        <md-input-container class="md-block" flex-gt-sm>
            <label>Search</label>
            <input type="text" ng-model="search" style="width:15em">
        </md-input-container>
        <md-table headers="headers" content="content" sortable="sortable" filters="search" custom-class="custom" count="count"></md-table>
    </md-content>

    <span class="md-primary md-hue-2">
        Rows on the page:
        <select ng-cloak class="md-primary" ng-model="count">
            <option ng-repeat="pages in pagesCount">{{pages}}</option>
        </select>
    </span>

    <div id="md-table-template" ng-hide="true">
        <table class="md-table" ng-cloak>
            <thead>
                <tr class="md-table-headers-row">
                    <th ng-repeat="h in headers" class="md-table-header">
                        <a href="#" ng-click="refreshPredicate(h.predicateIndex);order(myPredicate,null)" ng-cloak>
                            <span class="sortorder" ng-show="direction(h.predicateIndex) !== null" ng-class="{direction:direction(h.predicateIndex)}"></span>
                            {{h.name}}
                        </a>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="c in content | filter: {student:filters} | startFrom: tablePage*count | limitTo: count" class="md-table-content-row">
                    <td class="md-table-content"  ng-bind-html="c.student | highlight: filters">{{c.student}}</td>
                    <td class="md-table-content">{{c.userGroup}}</td>
                    <td class="md-table-content">{{c.quizzes}}</td>
                </tr>
            </tbody>
        </table>

        <div layout="row">

            <span flex="flex"></span>
            <span ng-show="nbOfPages() &gt; 1">
                <md-button ng-disabled="tablePage==0" ng-click="tablePage=tablePage-1" aria-label="Previous Page" class="md-primary md-hue-2">Previous page</md-button>
                <span ng-cloak ng-repeat="i in getNumber(nbOfPages()) track by $index">
                    <md-button ng-click="goToPage($index)" class="md-primary md-hue-2 md-table-footer-item"><span ng-class="{ 'md-table-active-page': tablePage==$index}">{{$index+1}}</span></md-button>
                </span>
                <md-button ng-disabled="tablePage==nbOfPages()-1" ng-click="tablePage=tablePage+1" aria-label="Next Page" class="md-primary md-hue-2">Next page</md-button>
            </span>
        </div>
        </div>
</div>

@section FootScripts
{    
    <script src="~/Scripts/app/pages/quiz/quiz.module.js"></script>
    <script src="~/Scripts/app/pages/quiz/quiz.service.js"></script>
    <script src="~/Scripts/app/pages/quiz/quiz.controller.js"></script>
    <script src="~/Scripts/app/pages/quiz/quiz.tableController.js"></script>
    <script src="~/Scripts/app/pages/quiz/search.filter.highligth.js"></script>
}
